{"version":3,"file":"app~7bd12dde.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/components/form-review.js","webpack://restaurant-apps/./src/scripts/components/post-detail.js","webpack://restaurant-apps/./src/scripts/components/post-item.js","webpack://restaurant-apps/./src/scripts/components/post-menu.js","webpack://restaurant-apps/./src/scripts/components/post-review.js","webpack://restaurant-apps/./src/scripts/components/posts.js","webpack://restaurant-apps/./src/scripts/data/favourite.js","webpack://restaurant-apps/./src/scripts/data/restaurant.js","webpack://restaurant-apps/./src/scripts/global/config.js","webpack://restaurant-apps/./src/scripts/index.js"],"sourcesContent":["class FormReview extends HTMLElement {\n  connectedCallback() {\n    this.render();\n  }\n\n  render() {\n    this.innerHTML = /* html */ `\n        <form class=\"form-review\">\n            <div id=\"offline\" class=\"offline hide\">You're offline. Check your connection before add new review !</div>\n            <h3 class=\"form-title\">Create New Review</h3>\n            <div class=\"mb-3\">\n              <label for=\"input-name\" class=\"form-label\">Name</label>\n              <input name=\"input-name\" type=\"text\" class=\"form-input\" id=\"input-name\">\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"input-review\" class=\"form-label\">Review</label>\n              <textarea name=\"input-review\" type=\"text\" class=\"form-input\" id=\"input-review\" rows=\"3\"></textarea>\n            </div>\n            <button id=\"submit-review\" type=\"submit\" class=\"btn-submit\">Submit</button>\n        </form>\n        `;\n  }\n}\ncustomElements.define('form-review', FormReview);\n","import './post-review';\nimport './post-menu';\n\nclass PostDetail extends HTMLElement {\n  set restaurant(restaurant) {\n    this._restaurant = restaurant;\n  }\n\n  set reviews(reviews) {\n    this._reviews = reviews;\n  }\n\n  render() {\n    this.className = 'post-detail';\n    this.innerHTML = /* html */ `\n        <div class=\"detail-header\">\n          <img class=\"thumbnail\" src=\"https://restaurant-api.dicoding.dev/images/small/${this._restaurant.pictureId}\"\n                alt=\"Restoran ${this._restaurant.name} di kota ${this._restaurant.city} dengan rating ${this._restaurant.rating}\">\n          <div class=\"detail-info\">\n            <h1 class=\"restaurant\">${this._restaurant.name}</h1>\n            <h2 class=\"city\"><i class=\"fa-solid fa-city fa-sm\" aria-hidden=\"true\"></i> ${this._restaurant.city}</h2>\n            <p class=\"address\"><i class=\"fa-solid fa-location-dot\" aria-hidden=\"true\"></i> ${this._restaurant.address}</p>\n            <h2 class=\"rating\">${this._restaurant.rating}</h2>\n          </div>\n        </div>\n        <ul class=\"tabs\">\n            <li><a href=\"javascript:void(0)\" data-view=\"descriptions\" class=\"link-active\">Descriptions</a>\n            </li>\n            <li><a href=\"javascript:void(0)\" data-view=\"menus\">Menus</a></li>\n            <li><a href=\"javascript:void(0)\" data-view=\"reviews\">Reviews</a></li>\n        </ul>\n        <div id=\"tabs-content\">\n            <div id=\"descriptions\" class=\"active content\">\n            </div>\n            <div id=\"menus\" class=\"content\">\n            </div>\n            <div id=\"reviews\" class=\"content\">\n            </div>\n        </div>\n    `;\n    const descriptionContainer = document.querySelector('#descriptions');\n    const reviewContainer = document.querySelector('#reviews');\n    const menusContainer = document.querySelector('#menus');\n    descriptionContainer.innerHTML = `<p>${this._restaurant.description}</p>`;\n    const menusItem = document.createElement('post-menu');\n    menusItem.menus = this._restaurant.menus;\n    menusContainer.appendChild(menusItem);\n    const postReview = document.createElement('post-review');\n    postReview.reviews = this._reviews;\n    reviewContainer.appendChild(postReview);\n\n    const links = document.querySelectorAll('li');\n    links.forEach((link) => {\n      link.addEventListener('click', (e) => {\n        const borderBottom = document.querySelector('.link-active');\n        if (borderBottom !== null) borderBottom.classList.remove('link-active');\n\n        const dataTarget = e.target;\n        dataTarget.className = 'link-active';\n        const id = dataTarget.getAttribute('data-view');\n\n        const allLayout = document.querySelectorAll('.content');\n        allLayout.forEach((layout) => {\n          if (layout.id === id) layout.classList.add('active');\n          else layout.classList.remove('active');\n        });\n      });\n    });\n  }\n}\ncustomElements.define('post-detail', PostDetail);\n","class PostItem extends HTMLElement {\r\n  connectedCallback() {\r\n    this.render();\r\n  }\r\n\r\n  set item(item) {\r\n    this._item = item;\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.innerHTML = /* html */ `\r\n        <article class=\"post_item\">\r\n          <img class=\"post-item__thumbnail lazyload\" src=\"https://via.placeholder.com/480.png?text=${this._item.name.replace(\r\n            ' ',\r\n            '+'\r\n          )}\" data-src=\"https://restaurant-api.dicoding.dev/images/small/${\r\n      this._item.pictureId\r\n    }\"\r\n            alt=\"Restoran ${this._item.name} di kota ${\r\n      this._item.city\r\n    } dengan rating ${this._item.rating}\">\r\n          <div class=\"post-item__content\">\r\n            <h1 class=\"post-item__title\"><a href=\"/#/detail/${this._item.id}\">${\r\n      this._item.name\r\n    }</a></h1>\r\n            <div class=\"post-item__info\">\r\n              <h2 class=\"city\">${this._item.city}</h2>\r\n              <h2 class=\"rating\">${this._item.rating}</h2>\r\n            </div>\r\n            <p class=\"post-item__description\">${this._item.description}</p>\r\n          </div>\r\n        </article>\r\n        `;\r\n  }\r\n}\r\ncustomElements.define('post-item', PostItem);\r\n","class PostMenu extends HTMLElement {\n  connectedCallback() {\n    this.render();\n  }\n\n  set menus(menus) {\n    this._menus = menus;\n    this.render();\n  }\n\n  render() {\n    this.innerHTML = '';\n    this.className = 'post-menu';\n    const { foods, drinks } = this._menus;\n    const foodOl = document.createElement('ul');\n    const drinkOl = document.createElement('ul');\n\n    const containerFood = document.createElement('div');\n    containerFood.className = 'post-menu-container';\n    containerFood.innerHTML =\n      '<h3><i class=\"fa-solid fa-utensils\"></i> Foods</h3>';\n\n    const containerDrink = document.createElement('div');\n    containerDrink.className = 'post-menu-container';\n    containerDrink.innerHTML =\n      '<h3><i class=\"fa-solid fa-glass\"></i> Drinks</h3>';\n\n    this.appendChild(containerFood);\n    this.appendChild(containerDrink);\n\n    foods.forEach((food) => {\n      const li = document.createElement('li');\n      li.append(food.name);\n      foodOl.appendChild(li);\n    });\n    drinks.forEach((drink) => {\n      const li = document.createElement('li');\n      li.append(drink.name);\n      drinkOl.appendChild(li);\n    });\n\n    containerFood.appendChild(foodOl);\n    containerDrink.appendChild(drinkOl);\n  }\n}\ncustomElements.define('post-menu', PostMenu);\n","class PostReview extends HTMLElement {\n  set reviews(reviews) {\n    this._reviews = reviews;\n    this.render();\n  }\n\n  render() {\n    this.innerHTML = '';\n    this.className = 'post-review';\n    this._reviews.forEach(({ name, review, date }) => {\n      const item = /* html */ `\n      <div class=\"review-item\">\n            <h3 class=\"review-name\">${name} <i class=\"fa-solid fa-comment-dots\" aria-hidden=\"true\"></i></h3>\n            <q class=\"review-content\">${review}</q>\n            <p class=\"review-date\">${date}</p>\n        </div>\n      `;\n      this.innerHTML += item;\n    });\n  }\n}\ncustomElements.define('post-review', PostReview);\n","import './post-item';\r\n\r\nclass Posts extends HTMLElement {\r\n  set item(item) {\r\n    this._item = item;\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.innerHTML = '';\r\n    this.className = 'posts';\r\n    this._item.forEach((item) => {\r\n      const postItem = document.createElement('post-item');\r\n      postItem.item = item;\r\n      this.appendChild(postItem);\r\n    });\r\n  }\r\n}\r\ncustomElements.define('post-list', Posts);\r\n","import { openDB } from 'idb';\nimport CONFIG from '../global/config';\n\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\n\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\n  upgrade(database) {\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: 'id' });\n  },\n});\nconst FavoriteRestaurantdb = {\n  async getRestaurant(id) {\n    if (!id) {\n      return;\n    }\n    // eslint-disable-next-line consistent-return\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\n  },\n  async getAllRestaurants() {\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\n  },\n  async putRestaurant(restaurant) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (!restaurant.hasOwnProperty('id')) {\n      return;\n    }\n    // eslint-disable-next-line consistent-return\n    return (await dbPromise).put(OBJECT_STORE_NAME, restaurant);\n  },\n  async deleteRestaurant(id) {\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\n  },\n};\nexport default FavoriteRestaurantdb;\n","import CONFIG from '../global/config';\r\n\r\nclass Restaurant {\r\n  static async list() {\r\n    const response = await fetch(`${CONFIG.BASE_URL}/list`);\r\n    return response.json();\r\n  }\r\n\r\n  static async detail(id) {\r\n    const response = await fetch(`${CONFIG.BASE_URL}/detail/${id}`);\r\n    return response.json();\r\n  }\r\n\r\n  static async review(body) {\r\n    const response = await fetch(`${CONFIG.BASE_URL}/review`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(body),\r\n    });\r\n    return response.json();\r\n  }\r\n}\r\nexport default Restaurant;\r\n","const CONFIG = {\r\n  BASE_URL: 'https://restaurant-api.dicoding.dev',\r\n  DATABASE_NAME: 'restaurant-database',\r\n  DATABASE_VERSION: 1,\r\n  OBJECT_STORE_NAME: 'restaurants',\r\n};\r\nexport default CONFIG;\r\n","import 'regenerator-runtime'; /* for async await transpile */\nimport '../styles/loading.scss';\nimport '../styles/main.scss';\nimport '../styles/responsive.scss';\nimport swRegister from './utils/sw-register';\nimport App from './views/app';\nimport StickyHeaderInitiator from './utils/sticky-header-initiator';\n\nStickyHeaderInitiator.init(document.querySelector('header'));\n\nconst app = new App({\n  button: document.querySelector('#menu'),\n  drawer: document.querySelector('#drawer'),\n  content: document.querySelector('#main-content'),\n  menuItem: document.querySelectorAll('.nav__item'),\n});\n\nwindow.addEventListener('hashchange', () => {\n  app.renderPage();\n});\n\nwindow.addEventListener('load', async () => {\n  app.renderPage();\n  await swRegister();\n});\n"],"names":["FormReview","this","render","innerHTML","HTMLElement","customElements","define","PostDetail","restaurant","_restaurant","reviews","_reviews","className","pictureId","name","city","rating","address","descriptionContainer","document","querySelector","reviewContainer","menusContainer","description","menusItem","createElement","menus","appendChild","postReview","querySelectorAll","forEach","link","addEventListener","e","borderBottom","classList","remove","dataTarget","target","id","getAttribute","layout","add","PostItem","item","_item","replace","PostMenu","_menus","foods","drinks","foodOl","drinkOl","containerFood","containerDrink","food","li","append","drink","PostReview","review","date","Posts","postItem","i","DATABASE_NAME","CONFIG","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","openDB","upgrade","database","createObjectStore","keyPath","getRestaurant","get","getAllRestaurants","getAll","putRestaurant","hasOwnProperty","put","deleteRestaurant","fetch","response","json","body","method","headers","JSON","stringify","BASE_URL","StickyHeaderInitiator","app","App","button","drawer","content","menuItem","window","renderPage","swRegister"],"sourceRoot":""}